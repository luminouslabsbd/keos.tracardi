import{q as N,r as s,j as t,d as l}from"./app-4b792641.js";import"./ThemeConfig-49c8c6b2.js";import w from"./Mainlayout-49980fb4.js";import{Q as b}from"./index-a9aabb75.js";import{u as v}from"./Sidebar-fe1ee6e8.js";import"./Footer-a0c6c199.js";import"./Header-e2d691d1.js";import"./Dropdown-bdfe6698.js";import"./nonIterableRest-b3ebea8d.js";import"./iterableToArray-95db6415.js";import"./FlashMessage-12c02f9d.js";import"./sweetalert2.all-5c9e751d.js";import"./Table-7b5d95ba.js";import"./floating-ui.dom-4ecd4945.js";import"./slicedToArray-27e0c1bc.js";function P(){const{users:i,permissions:C,base_url:m}=N().props;v();const d=[10,20,30,50,100],[c,x]=s.useState(1),[a,u]=s.useState(d[0]),[o,p]=s.useState(i,"name"),[h,f]=s.useState(o),[n,g]=s.useState(""),[E,j]=s.useState({columnAccessor:"name",direction:"asc"});return s.useEffect(()=>{x(1)},[a]),s.useEffect(()=>{const e=(c-1)*a,r=e+a;f([...o.slice(e,r)])},[c,a,o]),s.useEffect(()=>{p(()=>i.filter(e=>e.first_name&&e.first_name.toLowerCase().includes(n.toLowerCase())||e.email&&e.email.toLowerCase().includes(n.toLowerCase())))},[n]),t.jsx(t.Fragment,{children:t.jsxs("div",{className:"panel mt-6",children:[t.jsxs("div",{className:"flex md:items-center flex-col sm:flex-row justify-between mb-5 gap-5",children:[t.jsx("h5",{className:"font-semibold text-lg dark:text-white-light",children:"Modules"}),t.jsxs("div",{className:"flex md:items-center gap-5",children:[t.jsx("div",{children:t.jsx("input",{type:"text",className:"form-input md:w-auto",placeholder:"Search...",value:n,onChange:e=>g(e.target.value)})}),t.jsx(l,{href:`${m}/admin/modules/create`,method:"get",className:"px-7 py-2 bg-[#ff6243] text-white rounded-md text-[15px]",children:"Add"})]})]}),t.jsx("div",{className:"datatables",children:t.jsx(b,{className:"whitespace-nowrap table-hover",records:h,columns:[{accessor:"first_name",title:"Name",render:({first_name:e,last_name:r})=>t.jsx("div",{className:"flex items-center w-max",children:t.jsxs("div",{children:[e," ",r]})})},{accessor:"email",title:"Name",render:({email:e})=>t.jsx("div",{className:"flex items-center w-max",children:t.jsx("div",{children:e})})},{accessor:"action",title:"Action",titleClassName:"!text-center",render:e=>t.jsxs("div",{className:"flex items-center w-max mx-auto gap-2",children:[t.jsx(l,{href:`${m}/admin/users/${e.id}/edit`,method:"get",className:"btn btn-sm btn-outline-primary ",children:"Edit"}),t.jsx(l,{href:`/admin/users/${e.id}/delete`,method:"get",className:"btn btn-sm btn-outline-danger",children:"Delete"})]})}],totalRecords:o.length,recordsPerPage:a,page:c,onPageChange:e=>x(e),recordsPerPageOptions:d,onRecordsPerPageChange:u,onSortStatusChange:j,minHeight:200,paginationText:({from:e,to:r,totalRecords:S})=>`Showing  ${e} to ${r} of ${S} entries`})})]})})}P.layout=i=>t.jsx(w,{children:i});export{P as default};
